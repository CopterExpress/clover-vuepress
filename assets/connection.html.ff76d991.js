import{_ as i,r as a,o as r,c as u,a as t,b as s,w as o,F as p,d as n,e as c}from"./app.4f6a4bec.js";const d={},_=t("h1",{id:"connecting-raspberry-pi-to-the-flight-controller",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#connecting-raspberry-pi-to-the-flight-controller","aria-hidden":"true"},"#"),n(" Connecting Raspberry Pi to the flight controller")],-1),h=n("In order to program "),m=n("autonomous flights"),g=n(", "),k=n("work with Pixhawk or Pixracer over Wi-Fi"),f=n(", use "),v=n("controller app"),b=n(" and access other functions you need to connect your Raspberry Pi to the flight controller."),x=t("h2",{id:"usb-connection",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#usb-connection","aria-hidden":"true"},"#"),n(" USB connection")],-1),y=t("p",null,"USB connection is the preferred way to connect to the flight controller.",-1),q=t("li",null,[t("p",null,"Connect your FCU to the Raspberry Pi using a microUSB to USB cable.")],-1),S=n("Connect to the Raspberry Pi over SSH"),C=n("."),P=n("Make sure the connection is working by "),R=n("running the following command on the Raspberry Pi"),U=n(":"),T=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[n("rostopic "),t("span",{class:"token builtin class-name"},"echo"),n(` /mavros/state
`)])])],-1),I=t("p",null,[n("The "),t("code",null,"connected"),n(" field should have the "),t("code",null,"True"),n(" value.s")],-1),w={class:"custom-container tip"},B=t("p",{class:"custom-container-title"},"TIP",-1),F=n("You need to set the "),L=t("code",null,"CBRK_USB_CHK",-1),N=n(),A=n("parameter"),E=n(" to 197848 for the USB connection to work."),V=t("h2",{id:"uart-connection",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#uart-connection","aria-hidden":"true"},"#"),n(" UART connection")],-1),H={class:"custom-container tip"},K=t("p",{class:"custom-container-title"},"TIP",-1),M=n("In the image version "),O=t("strong",null,"0.20",-1),W=n(),Y=t("code",null,"clever",-1),G=n(" package and service was renamed to "),Q=t("code",null,"clover",-1),X=n(". See "),j={href:"https://github.com/CopterExpress/clover/blob/v0.19/docs/en/connection.md",target:"_blank",rel:"noopener noreferrer"},z=n("previous version of the article"),D=n(" for older images."),J=t("p",null,"UART connection is another way for the Raspberry Pi and FCU to communicate.",-1),Z=t("li",null,[t("p",null,"Connect Raspberry Pi to your FCU using a UART cable.")],-1),$=n("Connect to the Raspberry Pi over SSH"),tt=n("."),nt=c(`<li><p>Change the connection type in <code>~/catkin_ws/src/clover/clover/launch/clover.launch</code> to UART:</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fcu_conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uart<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>Be sure to restart the <code>clover</code> service after editing the .launch file:</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart clover
</code></pre></div></li>`,1),st=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[n("Set the "),t("code",null,"SYS_COMPANION"),n(" PX4 parameter to 921600 to enable UART on the FCU.")])],-1),et=t("h2",{id:"sitl-connection",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#sitl-connection","aria-hidden":"true"},"#"),n(" SITL connection")],-1),ot=n("In order to connect to a local or a remote "),at=n("SITL"),ct=n(" instance set the "),lt=t("code",null,"fcu_conn",-1),it=n(" parameter to "),rt=t("code",null,"udp",-1),ut=n(" and "),pt=t("code",null,"fcu_ip",-1),dt=n(" to the IP address of the SITL instance ("),_t=t("code",null,"127.0.0.1",-1),ht=n(" if you are running the instance locally):"),mt=c(`<div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fcu_conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>udp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fcu_ip<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>127.0.0.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>`,1),gt=t("strong",null,"Next",-1),kt=n(": "),ft=n("Using QGroundControl over Wi-Fi");function vt(bt,xt){const e=a("RouterLink"),l=a("ExternalLinkIcon");return r(),u(p,null,[_,t("p",null,[h,s(e,{to:"/en/simple_offboard.html"},{default:o(()=>[m]),_:1}),g,s(e,{to:"/en/gcs_bridge.html"},{default:o(()=>[k]),_:1}),f,s(e,{to:"/en/rc.html"},{default:o(()=>[v]),_:1}),b]),x,y,t("ol",null,[q,t("li",null,[t("p",null,[s(e,{to:"/en/ssh.html"},{default:o(()=>[S]),_:1}),C])]),t("li",null,[t("p",null,[P,s(e,{to:"/en/ssh.html"},{default:o(()=>[R]),_:1}),U]),T,I])]),t("div",w,[B,t("p",null,[F,L,N,s(e,{to:"/en/parameters.html"},{default:o(()=>[A]),_:1}),E])]),V,t("div",H,[K,t("p",null,[M,O,W,Y,G,Q,X,t("a",j,[z,s(l)]),D])]),J,t("ol",null,[Z,t("li",null,[t("p",null,[s(e,{to:"/en/ssh.html"},{default:o(()=>[$]),_:1}),tt])]),nt]),st,et,t("p",null,[ot,s(e,{to:"/en/sitl.html"},{default:o(()=>[at]),_:1}),ct,lt,it,rt,ut,pt,dt,_t,ht]),mt,t("p",null,[gt,kt,s(e,{to:"/en/gcs_bridge.html"},{default:o(()=>[ft]),_:1})])],64)}var qt=i(d,[["render",vt],["__file","connection.html.vue"]]);export{qt as default};
