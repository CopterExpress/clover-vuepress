import{_ as c,r,o as d,c as l,a as t,b as o,w as i,F as _,d as e,e as a}from"./app.4f6a4bec.js";const h={},p=t("h1",{id:"mavros",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#mavros","aria-hidden":"true"},"#"),e(" MAVROS")],-1),m=e("Main article is available in the official documentations: "),u={href:"http://wiki.ros.org/mavros",target:"_blank",rel:"noopener noreferrer"},g=e("http://wiki.ros.org/mavros"),v=e("MAVROS (MAVLink + ROS) is a ROS package that allows controlling drones via the "),f=e("MAVLink"),b=e(" protocol. MAVROS supports PX4 and APM flight stacks. Communication may be established via UART, USB, TCP or UDP."),T=t("p",null,"MAVROS subscribes to certain ROS topics that can be used to send commands, publishes telemetry to other topics, and provides services.",-1),k=e("The MAVROS node is automatically started in the Clover launch-file. In order to "),w=e("set the type of connection"),A=e(", change the "),S=t("code",null,"fcu_conn",-1),O=e(" argument."),y=a('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Simplified interaction with the drone is possible with the use of [<code>simple_offboard</code>] package (simple_offboard.md).</p></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Some MAVROS plugins are disabled by default in the <code>clover</code> package in order to save resources. For more information, see the <code>plugin_blacklist</code> parameter in <code>/home/pi/catkin_ws/src/clover/clover/launch/mavros.launch</code>.</p></div><h2 id="main-services" tabindex="-1"><a class="header-anchor" href="#main-services" aria-hidden="true">#</a> Main services</h2>',3),E=t("code",null,"/mavros/set_mode",-1),R=e(" \u2014 set "),I=e("flight mode"),M=e(" of the controller. Most often used to set the OFFBOARD mode to accept commands from Raspberry Pi."),N=a('<p><code>/mavros/cmd/arming</code> \u2014 arm or disarm drone motors (change arming status).</p><h2 id="main-published-topics" tabindex="-1"><a class="header-anchor" href="#main-published-topics" aria-hidden="true">#</a> Main published topics</h2><p><code>/mavros/state</code> \u2014 status of connection to the flight controller and flight controller mode.</p><p><code>/mavros/local_position/pose</code> \u2014 local position and orientation of the copter in the ENU coordinate system.</p><p><code>/mavros/local_position/velocity</code> \u2014 current speed in local coordinates and angular velocities.</p><p><code>/mavros/global_position/global</code> \u2014 current global position (latitude, longitude, altitude).</p>',6),L=t("code",null,"/mavros/global_position/local",-1),P=e(" \u2014 the global position in the "),x={href:"https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system",target:"_blank",rel:"noopener noreferrer"},V=e("UTM"),U=e(" coordinate system."),G=t("p",null,[t("code",null,"/mavros/global_position/rel_alt"),e(" \u2014 relative altitude (relative to the arming altitude).")],-1),B=e("Messages published in the topics may be viewed with the "),C=t("code",null,"rostopic",-1),D=e(" utility, e.g., "),F=t("code",null,"rostopic echo /mavros/state",-1),X=e(". See more in "),j=e("working with ROS"),q=e("."),z=a('<h2 id="main-topics-for-publication" tabindex="-1"><a class="header-anchor" href="#main-topics-for-publication" aria-hidden="true">#</a> Main topics for publication</h2><p><code>/mavros/setpoint_position/local</code> \u2014 set target position and yaw of the drone (in the ENU coordinate system).</p><p><code>/mavros/setpoint_position/cmd_vel</code> \u2014 set target linear velocity of the drone.</p><p><code>/mavros/setpoint_attitude/attitude</code> and <code>/mavros/setpoint_attitude/att_throttle</code> \u2014 set target attitude and throttle level.</p><p><code>/mavros/setpoint_attitude/cmd_vel</code> and <code>/mavros/setpoint_attitude/att_throttle</code> \u2014 set target angular velocity and throttle level.</p><h3 id="topics-for-sending-raw-packets" tabindex="-1"><a class="header-anchor" href="#topics-for-sending-raw-packets" aria-hidden="true">#</a> Topics for sending raw packets</h3>',6),H=t("code",null,"/mavros/setpoint_raw/local",-1),J=e(" \u2014 sends "),K={href:"https://mavlink.io/en/messages/common.html#SET_POSITION_TARGET_LOCAL_NED",target:"_blank",rel:"noopener noreferrer"},Q=e("SET_POSITION_TARGET_LOCAL_NED"),W=e(" message. Allows setting target position/target speed and target yaw/angular yaw velocity. The values to be set are selected using the "),Y=t("code",null,"type_mask",-1),Z=e(" field."),$=t("code",null,"/mavros/setpoint_raw/attitude",-1),ee=e(" \u2014 sends "),te={href:"https://mavlink.io/en/messages/common.html#SET_ATTITUDE_TARGET",target:"_blank",rel:"noopener noreferrer"},oe=e("SET_ATTITUDE_TARGET"),se=e(" message. Allows setting the target attitude /angular velocity and throttle level. The values to be set are selected using the "),ne=t("code",null,"type_mask",-1),ie=e(" field"),ae=t("code",null,"/mavros/setpoint_raw/global",-1),re=e(" \u2014 sends "),ce={href:"https://mavlink.io/en/messages/common.html#SET_POSITION_TARGET_GLOBAL_INT",target:"_blank",rel:"noopener noreferrer"},de=e("SET_POSITION_TARGET_GLOBAL_INT"),le=e(". Allows setting the target attitude in global coordinates (latitude, longitude, altitude) and flight speed. "),_e=t("strong",null,"Not supported in PX4",-1),he=e(" ("),pe={href:"https://github.com/PX4/Firmware/issues/7552",target:"_blank",rel:"noopener noreferrer"},me=e("issue"),ue=e(").");function ge(ve,fe){const s=r("ExternalLinkIcon"),n=r("RouterLink");return d(),l(_,null,[p,t("p",null,[m,t("a",u,[g,o(s)])]),t("p",null,[v,o(n,{to:"/en/mavlink.html"},{default:i(()=>[f]),_:1}),b]),T,t("p",null,[k,o(n,{to:"/en/connection.html"},{default:i(()=>[w]),_:1}),A,S,O]),y,t("p",null,[E,R,o(n,{to:"/en/modes.html"},{default:i(()=>[I]),_:1}),M]),N,t("p",null,[L,P,t("a",x,[V,o(s)]),U]),G,t("p",null,[B,C,D,F,X,o(n,{to:"/en/ros.html"},{default:i(()=>[j]),_:1}),q]),z,t("p",null,[H,J,t("a",K,[Q,o(s)]),W,Y,Z]),t("p",null,[$,ee,t("a",te,[oe,o(s)]),se,ne,ie]),t("p",null,[ae,re,t("a",ce,[de,o(s)]),le,_e,he,t("a",pe,[me,o(s)]),ue])],64)}var Te=c(h,[["render",ge],["__file","mavros.html.vue"]]);export{Te as default};
