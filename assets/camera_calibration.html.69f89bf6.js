import{_ as c,r as n,o as l,c as d,a,b as t,w as r,F as h,d as e,e as i}from"./app.4f6a4bec.js";import{_}from"./camera_calibration.39ce4780.js";const m={},p=a("h1",{id:"camera-calibration",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#camera-calibration","aria-hidden":"true"},"#"),e(" Camera calibration")],-1),u=e("Camera calibration can significantly improve the quality of nodes related to computer vision: "),b=e("ArUco markers detection"),f=e(" and "),g=e("optical flow"),k=e("."),w=e("Camera calibration process allows to define the parameters reflecting the specific lens installed. These parameters include focal lengths, principal point (which depends on camera lens placement regarding the centre), distortion coefficient "),v=a("em",null,"D",-1),C=e(". You can read more about camera distortion model used in the "),x={href:"https://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html",target:"_blank",rel:"noopener noreferrer"},y=e("OpenCV documentation"),R=e("."),T=e('There are several tools allowing to calibrate the camera and store calculated parameters into the system. Usually they use calibration images, "chessboards" or combinations of "chessboards" and ArUco-marker grids ('),M={href:"https://docs.opencv.org/3.4/df/d4a/tutorial_charuco_detection.html",target:"_blank",rel:"noopener noreferrer"},O=e("ChArUco"),S=e(")."),I=a("h2",{id:"camera-calibration-ros-package",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#camera-calibration-ros-package","aria-hidden":"true"},"#"),e(" camera_calibration ROS-package")],-1),U=e("Main tutorial: "),A={href:"http://wiki.ros.org/camera_calibration/Tutorials/MonocularCalibration",target:"_blank",rel:"noopener noreferrer"},L=e("http://wiki.ros.org/camera_calibration/Tutorials/MonocularCalibration"),N=e("."),q=e("In order to calibrate the camera with the "),E=a("code",null,"camera_calibration",-1),V=e(" ROS-package you need a computer with OS GNU/Linux and "),B=e("ROS Melodic"),F=e(" installed."),z=a("img",{src:_,alt:"ROS Camera Calibrator",class:"zoom center",width:"600"},null,-1),W=i(`<li><p>Using the Terminal, install <code>camera_calibration</code> package to your computer:</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ros-melodic-camera-calibration
</code></pre></div></li><li><p>Download the chessboard \u2013 <a href="../assets/chessboard.pdf">chessboard.pdf</a>. Print the chessboard on paper or open it on the computer screen.</p></li>`,2),D=e("Connect to the "),P=e("Clover Wi-Fi network"),G=e("."),Y=i(`<li><p>Run camera calibration (on your computer):</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token assign-left variable">ROS_MASTER_URI</span><span class="token operator">=</span>http://192.168.11.1:11311 rosrun camera_calibration cameracalibrator.py --size 6x8 --square <span class="token number">0.108</span> image:<span class="token operator">=</span>/main_camera/image_raw camera:<span class="token operator">=</span>/main_camera
</code></pre></div><blockquote><p><strong>Note</strong> Change the value <em>0.108</em> to actual size a square on the chessboard in metres. For example, value <em>0.03</em> corresponds to 3 cm.</p></blockquote></li><li><p>When the calibration program starts, move the drone so the calibration board is observed from different angles:</p><ul><li>Place the chessboard in the left, right, top and bottom part of the frame.</li><li>Rotate the chessboard around all 3 axes.</li><li>Move camera toward and away from the chessboard, so that it is observed from different distance.</li></ul></li><li><p>Click the <em>CALIBRATE</em> button, when it&#39;s active. The process of calculation will take several minutes.</p><p>When the calculation is done, you&#39;ll see calculated parameters in the terminal. The corrected camera image view will be displayed as well. If calibration was successful all straight lines will remain straight on the image displayed.</p></li><li><p>Click the <em>COMMIT</em> button to store calculated calibration parameters. The result will be stored in the main Clover camera calibration file: <code>/home/pi/catkin_ws/src/clover/clover/camera_info/fisheye_cam_320.yaml</code>.</p></li>`,4);function j(H,J){const o=n("RouterLink"),s=n("ExternalLinkIcon");return l(),d(h,null,[p,a("p",null,[u,t(o,{to:"/en/aruco.html"},{default:r(()=>[b]),_:1}),f,t(o,{to:"/en/optical_flow.html"},{default:r(()=>[g]),_:1}),k]),a("p",null,[w,v,C,a("a",x,[y,t(s)]),R]),a("p",null,[T,a("a",M,[O,t(s)]),S]),I,a("p",null,[U,a("a",A,[L,t(s)]),N]),a("p",null,[q,E,V,t(o,{to:"/en/ros-install.html"},{default:r(()=>[B]),_:1}),F]),z,a("ol",null,[W,a("li",null,[a("p",null,[D,t(o,{to:"/en/wifi.html"},{default:r(()=>[P]),_:1}),G])]),Y])],64)}var X=c(m,[["render",j],["__file","camera_calibration.html.vue"]]);export{X as default};
