import{_ as l,r as c,o as r,c as i,a as s,b as a,w as p,F as u,d as n,e as o}from"./app.4f6a4bec.js";const d={},_=s("h1",{id:"\u0440\u0430\u0431\u043E\u0442\u0430-\u0441-\u043A\u0430\u043C\u0435\u0440\u043E\u0438",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u0440\u0430\u0431\u043E\u0442\u0430-\u0441-\u043A\u0430\u043C\u0435\u0440\u043E\u0438","aria-hidden":"true"},"#"),n(" \u0420\u0430\u0431\u043E\u0442\u0430 \u0441 \u043A\u0430\u043C\u0435\u0440\u043E\u0439")],-1),k={class:"custom-container tip"},h=s("p",{class:"custom-container-title"},"\u0421\u041E\u0412\u0415\u0422",-1),m=n("\u0412 \u0432\u0435\u0440\u0441\u0438\u0438 \u043E\u0431\u0440\u0430\u0437\u0430 "),g=s("strong",null,"0.20",-1),v=n(" \u043F\u0430\u043A\u0435\u0442 \u0438 \u0441\u0435\u0440\u0432\u0438\u0441 "),b=s("code",null,"clever",-1),y=n(" \u0431\u044B\u043B \u043F\u0435\u0440\u0435\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D \u0432 "),f=s("code",null,"clover",-1),w=n(". \u0414\u043B\u044F \u0431\u043E\u043B\u0435\u0435 \u0440\u0430\u043D\u043D\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 \u0441\u043C. \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u044E \u0434\u043B\u044F \u0432\u0435\u0440\u0441\u0438\u0438 "),q={href:"https://github.com/CopterExpress/clover/blob/v0.19/docs/ru/camera.md",target:"_blank",rel:"noopener noreferrer"},x=s("strong",null,"0.19",-1),C=n("."),B=o(`<p>\u0414\u043B\u044F \u0440\u0430\u0431\u043E\u0442\u044B \u0441 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0443\u0431\u0435\u0434\u0438\u0442\u044C\u0441\u044F \u0447\u0442\u043E \u043E\u043D\u0430 \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u0430 \u0432 \u0444\u0430\u0439\u043B\u0435 <code>~/catkin_ws/src/clover/clover/launch/clover.launch</code>:</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main_camera<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>`,2),I=n("\u0422\u0430\u043A\u0436\u0435 \u043D\u0443\u0436\u043D\u043E \u0443\u0431\u0435\u0434\u0438\u0442\u044C\u0441\u044F, \u0447\u0442\u043E \u043A\u0430\u043C\u0435\u0440\u0430 "),O=n("\u0441\u0444\u043E\u043A\u0443\u0441\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0438 \u0434\u043B\u044F \u043D\u0435\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0440\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0438 \u043E\u0440\u0438\u0435\u043D\u0442\u0430\u0446\u0438\u044F"),R=n("."),V=s("p",null,[n("\u041F\u0440\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0438 launch-\u0444\u0430\u0439\u043B\u0430 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u043F\u0430\u043A\u0435\u0442 "),s("code",null,"clover"),n(":")],-1),P=s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"sudo"),n(` systemctl restart clover
`)])])],-1),z=n("\u0414\u043B\u044F \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u0441 \u043A\u0430\u043C\u0435\u0440\u044B \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C "),E=n("rqt"),S=n(" \u0438\u043B\u0438 "),A=n("web_video_server"),D=n("."),L=s("h2",{id:"\u043D\u0435\u0438\u0441\u043F\u0440\u0430\u0432\u043D\u043E\u0441\u0442\u0438",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u043D\u0435\u0438\u0441\u043F\u0440\u0430\u0432\u043D\u043E\u0441\u0442\u0438","aria-hidden":"true"},"#"),n(" \u041D\u0435\u0438\u0441\u043F\u0440\u0430\u0432\u043D\u043E\u0441\u0442\u0438")],-1),T=n("\u0415\u0441\u043B\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441 \u043A\u0430\u043C\u0435\u0440\u044B \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u0435\u0435 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u0443\u0442\u0438\u043B\u0438\u0442\u044B "),F={href:"https://www.raspberrypi.org/documentation/usage/camera/raspicam/raspistill.md",target:"_blank",rel:"noopener noreferrer"},N=s("code",null,"raspistill",-1),Q=n("."),U=o(`<p>\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044B \u041A\u043B\u0435\u0432\u0435\u0440\u0430:</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop clover
</code></pre></div><p>\u041F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0443 \u0441 \u043A\u0430\u043C\u0435\u0440\u044B \u0443\u0442\u0438\u043B\u0438\u0442\u043E\u0439 <code>raspistill</code>:</p><div class="language-bash ext-sh"><pre class="language-bash"><code>raspistill -o test.jpg
</code></pre></div><p>\u0415\u0441\u043B\u0438 \u043A\u043E\u043C\u0430\u043D\u0434\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044F \u0441 \u043E\u0448\u0438\u0431\u043A\u043E\u0439, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043A\u0430\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F \u0448\u043B\u0435\u0439\u0444\u0430 \u043A\u0430\u043C\u0435\u0440\u044B \u043A Raspberry Pi \u0438\u043B\u0438 \u0437\u0430\u043C\u0435\u043D\u0438\u0442\u0435 \u0435\u0433\u043E.</p><h2 id="\u043D\u0430\u0441\u0442\u0440\u043E\u0438\u043A\u0438-\u043A\u0430\u043C\u0435\u0440\u044B" tabindex="-1"><a class="header-anchor" href="#\u043D\u0430\u0441\u0442\u0440\u043E\u0438\u043A\u0438-\u043A\u0430\u043C\u0435\u0440\u044B" aria-hidden="true">#</a> \u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043A\u0430\u043C\u0435\u0440\u044B</h2>`,6),j=n("\u0420\u044F\u0434 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u043E\u0432 \u043A\u0430\u043C\u0435\u0440\u044B - \u0440\u0430\u0437\u043C\u0435\u0440 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F, \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0443\u044E \u0447\u0430\u0441\u0442\u043E\u0442\u0443 \u043A\u0430\u0434\u0440\u043E\u0432, \u044D\u043A\u0441\u043F\u043E\u0437\u0438\u0446\u0438\u044E - \u043C\u043E\u0436\u043D\u043E \u043D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0432 \u0444\u0430\u0439\u043B\u0435 "),X=s("code",null,"main_camera.launch",-1),Z=n(". \u0421\u043F\u0438\u0441\u043E\u043A \u043D\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043C\u044B\u0445 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u043E\u0432 \u043C\u043E\u0436\u043D\u043E "),G={href:"https://github.com/OTL/cv_camera#parameters",target:"_blank",rel:"noopener noreferrer"},H=n("\u043F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0432 \u0440\u0435\u043F\u043E\u0437\u0438\u0442\u043E\u0440\u0438\u0438 cv_camera"),J=n("."),K=n("\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B, \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u0435 \u0432 \u044D\u0442\u043E\u043C \u0441\u043F\u0438\u0441\u043A\u0435, \u043C\u043E\u0436\u043D\u043E \u0443\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0447\u0435\u0440\u0435\u0437 "),M={href:"https://docs.opencv.org/3.3.1/d4/d15/group__videoio__flags__base.html",target:"_blank",rel:"noopener noreferrer"},W=n("\u043A\u043E\u0434 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 OpenCV"),Y=n(". \u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0434\u043B\u044F \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0444\u0438\u043A\u0441\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u044D\u043A\u0441\u043F\u043E\u0437\u0438\u0446\u0438\u0438 \u0434\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0432 \u043D\u043E\u0434\u0443 \u043A\u0430\u043C\u0435\u0440\u044B:"),$=o(`<div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>property_0_code<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>21<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- property code 21 is CAP_PROP_AUTO_EXPOSURE --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>property_0_value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.25<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- property values are normalized as per OpenCV specs, even for &quot;menu&quot; controls; 0.25 means &quot;use manual exposure&quot; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cv_cap_prop_exposure<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.3<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- set exposure to 30% of maximum value --&gt;</span>
</code></pre></div><h2 id="\u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u043D\u043E\u0435-\u0437\u0440\u0435\u043D\u0438\u0435" tabindex="-1"><a class="header-anchor" href="#\u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u043D\u043E\u0435-\u0437\u0440\u0435\u043D\u0438\u0435" aria-hidden="true">#</a> \u041A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u043D\u043E\u0435 \u0437\u0440\u0435\u043D\u0438\u0435</h2>`,2),nn=n("\u0414\u043B\u044F \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u043B\u0433\u043E\u0440\u0438\u0442\u043C\u043E\u0432 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u043D\u043E\u0433\u043E \u0437\u0440\u0435\u043D\u0438\u044F \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0443\u0435\u0442\u0441\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u0443\u044E \u043D\u0430 "),sn=n("\u043E\u0431\u0440\u0430\u0437 SD-\u043A\u0430\u0440\u0442\u044B"),an=n(" \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0443 "),tn={href:"https://opencv.org",target:"_blank",rel:"noopener noreferrer"},on=n("OpenCV"),en=n("."),pn=s("h3",{id:"python",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#python","aria-hidden":"true"},"#"),n(" Python")],-1),cn=n("\u041E\u0441\u043D\u043E\u0432\u043D\u0430\u044F \u0441\u0442\u0430\u0442\u044C\u044F: "),ln={href:"http://wiki.ros.org/cv_bridge/Tutorials/ConvertingBetweenROSImagesAndOpenCVImagesPython",target:"_blank",rel:"noopener noreferrer"},rn=n("http://wiki.ros.org/cv_bridge/Tutorials/ConvertingBetweenROSImagesAndOpenCVImagesPython"),un=n("."),dn=o(`<p>\u041F\u0440\u0438\u043C\u0435\u0440 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u0430 \u043D\u0430 \u0442\u043E\u043F\u0438\u043A \u0441 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\u043C \u0441 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u043A\u0430\u043C\u0435\u0440\u044B \u0434\u043B\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u0441 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\u043C OpenCV:</p><div class="language-python ext-py"><pre class="language-python"><code><span class="token keyword">import</span> rospy
<span class="token keyword">import</span> cv2
<span class="token keyword">from</span> sensor_msgs<span class="token punctuation">.</span>msg <span class="token keyword">import</span> Image
<span class="token keyword">from</span> cv_bridge <span class="token keyword">import</span> CvBridge

rospy<span class="token punctuation">.</span>init_node<span class="token punctuation">(</span><span class="token string">&#39;computer_vision_sample&#39;</span><span class="token punctuation">)</span>
bridge <span class="token operator">=</span> CvBridge<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">image_callback</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    cv_image <span class="token operator">=</span> bridge<span class="token punctuation">.</span>imgmsg_to_cv2<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;bgr8&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># OpenCV image</span>
    <span class="token comment"># Do any image processing with cv2...</span>

image_sub <span class="token operator">=</span> rospy<span class="token punctuation">.</span>Subscriber<span class="token punctuation">(</span><span class="token string">&#39;main_camera/image_raw&#39;</span><span class="token punctuation">,</span> Image<span class="token punctuation">,</span> image_callback<span class="token punctuation">)</span>

rospy<span class="token punctuation">.</span>spin<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>\u0414\u043B\u044F \u043E\u0442\u043B\u0430\u0434\u043A\u0438 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043C\u043E\u0436\u043D\u043E \u043F\u0443\u0431\u043B\u0438\u043A\u043E\u0432\u0430\u0442\u044C \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u0439 \u0442\u043E\u043F\u0438\u043A \u0441 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u043C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\u043C:</p><div class="language-python ext-py"><pre class="language-python"><code>image_pub <span class="token operator">=</span> rospy<span class="token punctuation">.</span>Publisher<span class="token punctuation">(</span><span class="token string">&#39;~debug&#39;</span><span class="token punctuation">,</span> Image<span class="token punctuation">)</span>
</code></pre></div><p>\u041F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u043E\u0433\u043E \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F (\u0432 \u043A\u043E\u043D\u0446\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 image_callback):</p><div class="language-python ext-py"><pre class="language-python"><code>image_pub<span class="token punctuation">.</span>publish<span class="token punctuation">(</span>bridge<span class="token punctuation">.</span>cv2_to_imgmsg<span class="token punctuation">(</span>cv_image<span class="token punctuation">,</span> <span class="token string">&#39;bgr8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>`,6),_n=n("\u041F\u043E\u043B\u0443\u0447\u0430\u0435\u043C\u044B\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043C\u043E\u0436\u043D\u043E \u043F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044C \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044F "),kn=n("web_video_server"),hn=n("."),mn=o(`<h4 id="\u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435-\u043E\u0434\u043D\u043E\u0433\u043E-\u043A\u0430\u0434\u0440\u0430" tabindex="-1"><a class="header-anchor" href="#\u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435-\u043E\u0434\u043D\u043E\u0433\u043E-\u043A\u0430\u0434\u0440\u0430" aria-hidden="true">#</a> \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u043E\u0434\u043D\u043E\u0433\u043E \u043A\u0430\u0434\u0440\u0430</h4><p>\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C \u0435\u0434\u0438\u043D\u043E\u0440\u0430\u0437\u043E\u0432\u043E\u0433\u043E \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043A\u0430\u0434\u0440\u0430 \u0441 \u043A\u0430\u043C\u0435\u0440\u044B. \u042D\u0442\u043E\u0442 \u0441\u043F\u043E\u0441\u043E\u0431 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u043C\u0435\u0434\u043B\u0435\u043D\u043D\u0435\u0435, \u0447\u0435\u043C \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0430 \u043D\u0430 \u0442\u043E\u043F\u0438\u043A; \u0435\u0433\u043E \u043D\u0435 \u0441\u043B\u0435\u0434\u0443\u0435\u0442 \u043F\u0440\u0438\u043C\u0435\u043D\u044F\u0442\u044C \u0432 \u0441\u043B\u0443\u0447\u0430\u0435 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\u0441\u0442\u0438 \u043F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u043E\u0439 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439.</p><div class="language-python ext-py"><pre class="language-python"><code><span class="token keyword">import</span> rospy
<span class="token keyword">from</span> sensor_msgs<span class="token punctuation">.</span>msg <span class="token keyword">import</span> Image
<span class="token keyword">from</span> cv_bridge <span class="token keyword">import</span> CvBridge

rospy<span class="token punctuation">.</span>init_node<span class="token punctuation">(</span><span class="token string">&#39;computer_vision_sample&#39;</span><span class="token punctuation">)</span>
bridge <span class="token operator">=</span> CvBridge<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># ...</span>

<span class="token comment"># \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u043A\u0430\u0434\u0440\u0430:</span>
img <span class="token operator">=</span> bridge<span class="token punctuation">.</span>imgmsg_to_cv2<span class="token punctuation">(</span>rospy<span class="token punctuation">.</span>wait_for_message<span class="token punctuation">(</span><span class="token string">&#39;main_camera/image_raw&#39;</span><span class="token punctuation">,</span> Image<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;bgr8&#39;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="\u043F\u0440\u0438\u043C\u0435\u0440\u044B" tabindex="-1"><a class="header-anchor" href="#\u043F\u0440\u0438\u043C\u0435\u0440\u044B" aria-hidden="true">#</a> \u041F\u0440\u0438\u043C\u0435\u0440\u044B</h3><h4 id="\u0440\u0430\u0431\u043E\u0442\u0430-\u0441-qr-\u043A\u043E\u0434\u0430\u043C\u0438" tabindex="-1"><a class="header-anchor" href="#\u0440\u0430\u0431\u043E\u0442\u0430-\u0441-qr-\u043A\u043E\u0434\u0430\u043C\u0438" aria-hidden="true">#</a> \u0420\u0430\u0431\u043E\u0442\u0430 \u0441 QR-\u043A\u043E\u0434\u0430\u043C\u0438</h4>`,5),gn={class:"custom-container tip"},vn=s("p",{class:"custom-container-title"},"\u0421\u041E\u0412\u0415\u0422",-1),bn=n("\u0414\u043B\u044F \u0432\u044B\u0441\u043E\u043A\u043E\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u043D\u043E\u0433\u043E \u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u0432\u0430\u043D\u0438\u044F \u0438 \u043F\u043E\u0437\u0438\u0446\u0438\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043B\u0443\u0447\u0448\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C "),yn=n("ArUco-\u043C\u0430\u0440\u043A\u0435\u0440\u044B"),fn=n("."),wn=n("\u0414\u043B\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0440\u0430\u0437\u043B\u0438\u0447\u043D\u044B\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043A\u043E\u043F\u0442\u0435\u0440\u0430 \u043F\u0440\u0438 \u0434\u0435\u0442\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u043D\u0443\u0436\u043D\u044B\u0445 "),qn={href:"https://ru.wikipedia.org/wiki/QR-%D0%BA%D0%BE%D0%B4",target:"_blank",rel:"noopener noreferrer"},xn=n("QR-\u043A\u043E\u0434\u043E\u0432"),Cn=n(" \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0443 "),Bn={href:"https://pypi.org/project/pyzbar/",target:"_blank",rel:"noopener noreferrer"},In=n("pyZBar"),On=n(". \u041E\u043D\u0430 \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0430 \u0432 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u043C \u043E\u0431\u0440\u0430\u0437\u0435 \u0434\u043B\u044F Raspberry Pi."),Rn=o(`<p>\u0420\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u0432\u0430\u043D\u0438\u0435 QR-\u043A\u043E\u0434\u043E\u0432 \u043D\u0430 Python:</p><div class="language-python ext-py"><pre class="language-python"><code><span class="token keyword">import</span> rospy
<span class="token keyword">from</span> pyzbar <span class="token keyword">import</span> pyzbar
<span class="token keyword">from</span> cv_bridge <span class="token keyword">import</span> CvBridge
<span class="token keyword">from</span> sensor_msgs<span class="token punctuation">.</span>msg <span class="token keyword">import</span> Image

bridge <span class="token operator">=</span> CvBridge<span class="token punctuation">(</span><span class="token punctuation">)</span>

rospy<span class="token punctuation">.</span>init_node<span class="token punctuation">(</span><span class="token string">&#39;barcode_test&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># Image subscriber callback function</span>
<span class="token keyword">def</span> <span class="token function">image_callback</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    cv_image <span class="token operator">=</span> bridge<span class="token punctuation">.</span>imgmsg_to_cv2<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;bgr8&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># OpenCV image</span>
    barcodes <span class="token operator">=</span> pyzbar<span class="token punctuation">.</span>decode<span class="token punctuation">(</span>cv_image<span class="token punctuation">)</span>
    <span class="token keyword">for</span> barcode <span class="token keyword">in</span> barcodes<span class="token punctuation">:</span>
        b_data <span class="token operator">=</span> barcode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span>
        b_type <span class="token operator">=</span> barcode<span class="token punctuation">.</span><span class="token builtin">type</span>
        <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token operator">=</span> barcode<span class="token punctuation">.</span>rect
        xc <span class="token operator">=</span> x <span class="token operator">+</span> w<span class="token operator">/</span><span class="token number">2</span>
        yc <span class="token operator">=</span> y <span class="token operator">+</span> h<span class="token operator">/</span><span class="token number">2</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Found {} with data {} with center at x={}, y={}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>b_type<span class="token punctuation">,</span> b_data<span class="token punctuation">,</span> xc<span class="token punctuation">,</span> yc<span class="token punctuation">)</span><span class="token punctuation">)</span>

image_sub <span class="token operator">=</span> rospy<span class="token punctuation">.</span>Subscriber<span class="token punctuation">(</span><span class="token string">&#39;main_camera/image_raw&#39;</span><span class="token punctuation">,</span> Image<span class="token punctuation">,</span> image_callback<span class="token punctuation">,</span> queue_size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

rospy<span class="token punctuation">.</span>spin<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div>`,2),Vn=n("\u0421\u043A\u0440\u0438\u043F\u0442 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043D\u0438\u043C\u0430\u0442\u044C 100% \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0440\u0430. \u0414\u043B\u044F \u0438\u0441\u043A\u0443\u0441\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0437\u0430\u043C\u0435\u0434\u043B\u0435\u043D\u0438\u044F \u0440\u0430\u0431\u043E\u0442\u044B \u0441\u043A\u0440\u0438\u043F\u0442\u0430 \u043C\u043E\u0436\u043D\u043E \u0437\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C "),Pn={href:"http://wiki.ros.org/topic_tools/throttle",target:"_blank",rel:"noopener noreferrer"},zn=n("throttling"),En=n(" \u043A\u0430\u0434\u0440\u043E\u0432 \u0441 \u043A\u0430\u043C\u0435\u0440\u044B, \u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0432 5 \u0413\u0446 ("),Sn=s("code",null,"main_camera.launch",-1),An=n("):"),Dn=o(`<div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>node</span> <span class="token attr-name">pkg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>topic_tools<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cam_throttle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>throttle<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">args</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>messages main_camera/image_raw 5.0 main_camera/image_raw_throttled<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>\u0422\u043E\u043F\u0438\u043A \u0434\u043B\u044F \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u0430 \u0432 \u044D\u0442\u043E\u043C \u0441\u043B\u0443\u0447\u0430\u0435 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043F\u043E\u043C\u0435\u043D\u044F\u0442\u044C \u043D\u0430 <code>main_camera/image_raw_throttled</code>.</p><h2 id="\u0437\u0430\u043F\u0438\u0441\u044C-\u0432\u0438\u0434\u0435\u043E" tabindex="-1"><a class="header-anchor" href="#\u0437\u0430\u043F\u0438\u0441\u044C-\u0432\u0438\u0434\u0435\u043E" aria-hidden="true">#</a> \u0417\u0430\u043F\u0438\u0441\u044C \u0432\u0438\u0434\u0435\u043E</h2>`,3),Ln=n("\u0414\u043B\u044F \u0437\u0430\u043F\u0438\u0441\u0438 \u0432\u0438\u0434\u0435\u043E \u043C\u043E\u0436\u0435\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0430 \u043D\u043E\u0434\u0430 "),Tn={href:"http://wiki.ros.org/image_view#image_view.2Fdiamondback.video_recorder",target:"_blank",rel:"noopener noreferrer"},Fn=s("code",null,"video_recorder",-1),Nn=n(" \u0438\u0437 \u043F\u0430\u043A\u0435\u0442\u0430 "),Qn=s("code",null,"image_view",-1),Un=n(":"),jn=s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[n("rosrun image_view video_recorder image:"),s("span",{class:"token operator"},"="),n(`/main_camera/image_raw
`)])])],-1),Xn=s("p",null,[n("\u0412\u0438\u0434\u0435\u043E \u0431\u0443\u0434\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E \u0432 \u0444\u0430\u0439\u043B "),s("code",null,"output.avi"),n(". \u0412 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0435 "),s("code",null,"image"),n(" \u0443\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u0442\u0441\u044F \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0442\u043E\u043F\u0438\u043A\u0430 \u0434\u043B\u044F \u0437\u0430\u043F\u0438\u0441\u0438 \u0432\u0438\u0434\u0435\u043E.")],-1);function Zn(Gn,Hn){const t=c("ExternalLinkIcon"),e=c("RouterLink");return r(),i(u,null,[_,s("div",k,[h,s("p",null,[m,g,v,b,y,f,w,s("a",q,[x,a(t)]),C])]),B,s("p",null,[I,a(e,{to:"/ru/camera_setup.html"},{default:p(()=>[O]),_:1}),R]),V,P,s("p",null,[z,a(e,{to:"/ru/rviz.html"},{default:p(()=>[E]),_:1}),S,a(e,{to:"/ru/web_video_server.html"},{default:p(()=>[A]),_:1}),D]),L,s("p",null,[T,s("a",F,[N,a(t)]),Q]),U,s("p",null,[j,X,Z,s("a",G,[H,a(t)]),J]),s("p",null,[K,s("a",M,[W,a(t)]),Y]),$,s("p",null,[nn,a(e,{to:"/ru/image.html"},{default:p(()=>[sn]),_:1}),an,s("a",tn,[on,a(t)]),en]),pn,s("p",null,[cn,s("a",ln,[rn,a(t)]),un]),dn,s("p",null,[_n,a(e,{to:"/ru/web_video_server.html"},{default:p(()=>[kn]),_:1}),hn]),mn,s("div",gn,[vn,s("p",null,[bn,a(e,{to:"/ru/aruco.html"},{default:p(()=>[yn]),_:1}),fn])]),s("p",null,[wn,s("a",qn,[xn,a(t)]),Cn,s("a",Bn,[In,a(t)]),On]),Rn,s("p",null,[Vn,s("a",Pn,[zn,a(t)]),En,Sn,An]),Dn,s("p",null,[Ln,s("a",Tn,[Fn,a(t)]),Nn,Qn,Un]),jn,Xn],64)}var Kn=l(d,[["render",Zn],["__file","camera.html.vue"]]);export{Kn as default};
