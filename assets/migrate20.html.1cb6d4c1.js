import{_ as o,r as p,o as c,c as r,a as s,b as t,w as e,F as i,d as n,e as l}from"./app.4f6a4bec.js";const u={},k=s("h1",{id:"migration-to-version-0-20",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#migration-to-version-0-20","aria-hidden":"true"},"#"),n(" Migration to version 0.20")],-1),d=n("Image"),g=n(" version v0.20 includes significant changes in comparison with the version 0.19. When transitioning please note the changes presented below."),v=l(`<h2 id="ros-package-clever-is-renamed-to-clover" tabindex="-1"><a class="header-anchor" href="#ros-package-clever-is-renamed-to-clover" aria-hidden="true">#</a> ROS package <code>clever</code> is renamed to <code>clover</code></h2><p>All the imports in Python scripts should be changed.</p><p>Before:</p><div class="language-python ext-py"><pre class="language-python"><code><span class="token keyword">import</span> rospy
<span class="token keyword">from</span> clever <span class="token keyword">import</span> srv
<span class="token keyword">from</span> std_srvs<span class="token punctuation">.</span>srv <span class="token keyword">import</span> Trigger

rospy<span class="token punctuation">.</span>init_node<span class="token punctuation">(</span><span class="token string">&#39;flight&#39;</span><span class="token punctuation">)</span>

get_telemetry <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;get_telemetry&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>GetTelemetry<span class="token punctuation">)</span>
navigate <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;navigate&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>Navigate<span class="token punctuation">)</span>
navigate_global <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;navigate_global&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>NavigateGlobal<span class="token punctuation">)</span>
set_position <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_position&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetPosition<span class="token punctuation">)</span>
set_velocity <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_velocity&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetVelocity<span class="token punctuation">)</span>
set_attitude <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_attitude&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetAttitude<span class="token punctuation">)</span>
set_rates <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_rates&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetRates<span class="token punctuation">)</span>
land <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;land&#39;</span><span class="token punctuation">,</span> Trigger<span class="token punctuation">)</span>

<span class="token comment"># Take off 1 m</span>
navigate<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> frame_id<span class="token operator">=</span><span class="token string">&#39;body&#39;</span><span class="token punctuation">,</span> auto_arm<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre></div><p>After:</p><div class="language-python ext-py"><pre class="language-python"><code><span class="token keyword">import</span> rospy
<span class="token keyword">from</span> clover <span class="token keyword">import</span> srv
<span class="token keyword">from</span> std_srvs<span class="token punctuation">.</span>srv <span class="token keyword">import</span> Trigger

rospy<span class="token punctuation">.</span>init_node<span class="token punctuation">(</span><span class="token string">&#39;flight&#39;</span><span class="token punctuation">)</span>

get_telemetry <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;get_telemetry&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>GetTelemetry<span class="token punctuation">)</span>
navigate <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;navigate&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>Navigate<span class="token punctuation">)</span>
navigate_global <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;navigate_global&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>NavigateGlobal<span class="token punctuation">)</span>
set_position <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_position&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetPosition<span class="token punctuation">)</span>
set_velocity <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_velocity&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetVelocity<span class="token punctuation">)</span>
set_attitude <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_attitude&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetAttitude<span class="token punctuation">)</span>
set_rates <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;set_rates&#39;</span><span class="token punctuation">,</span> srv<span class="token punctuation">.</span>SetRates<span class="token punctuation">)</span>
land <span class="token operator">=</span> rospy<span class="token punctuation">.</span>ServiceProxy<span class="token punctuation">(</span><span class="token string">&#39;land&#39;</span><span class="token punctuation">,</span> Trigger<span class="token punctuation">)</span>

<span class="token comment"># Take off 1 m</span>
navigate<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> frame_id<span class="token operator">=</span><span class="token string">&#39;body&#39;</span><span class="token punctuation">,</span> auto_arm<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="systemd-service-clever-is-renamed-to-clover" tabindex="-1"><a class="header-anchor" href="#systemd-service-clever-is-renamed-to-clover" aria-hidden="true">#</a> systemd service <code>clever</code> is renamed to <code>clover</code></h2><p>For restarting the platform instead of:</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart clever
</code></pre></div><p>use command:</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart clover
</code></pre></div><h2 id="path-to-platform-s-files-changed" tabindex="-1"><a class="header-anchor" href="#path-to-platform-s-files-changed" aria-hidden="true">#</a> Path to platform&#39;s files changed</h2><p>The <code>~/catkin_ws/src/clever/</code> directory is renamed to <code>~/catkin_ws/src/clover</code>. Thus, configuration files (<code>*.launch</code>) are to be edited using the new path.</p><p>For example, <code>~/catkin_ws/src/clever/clever/launch/clever.launch</code> file is now <code>~/catkin_ws/src/clover/clover/launch/clover.launch</code>.</p><h2 id="wi-fi-network-configuration" tabindex="-1"><a class="header-anchor" href="#wi-fi-network-configuration" aria-hidden="true">#</a> Wi-Fi network configuration</h2><p>Wi-Fi networks&#39; SSID is changed to <code>clover-XXXX</code> (where X is a random number), password is changed to <code>cloverwifi</code>.</p><h2 id="the-camera-orientation-configuration-changed" tabindex="-1"><a class="header-anchor" href="#the-camera-orientation-configuration-changed" aria-hidden="true">#</a> The camera orientation configuration changed</h2>`,17),h=n('See details in the "'),m=n("Camera setup"),y=n('" article.');function _(f,x){const a=p("RouterLink");return c(),r(i,null,[k,s("p",null,[t(a,{to:"/en/image.html"},{default:e(()=>[d]),_:1}),g]),v,s("p",null,[h,t(a,{to:"/en/camera_setup.html#frame"},{default:e(()=>[m]),_:1}),y])],64)}var w=o(u,[["render",_],["__file","migrate20.html.vue"]]);export{w as default};
